    <div>
        <div class="list-container">
            <h2>LISTA DE VENDAS</h2>

            <!-- Ordenação -->
            <form method="get" class="ordenacao-grid" id="form-ordenacao">
                <div class="grupo-ordenacao">
                    <strong>Nome</strong>
                    <label><input type="radio" name="nome" value="az"
                                  {% if request.GET.nome == 'az' %}checked{% endif %}>
                        A‑Z</label>
                    <label><input type="radio" name="nome" value="za"
                                  {% if request.GET.nome == 'za' %}checked{% endif %}>
                        Z‑A</label>
                </div>

                <div class="grupo-ordenacao">
                    <strong>Retorno</strong>
                    <label><input type="radio" name="retorno" value="asc"
                                  {% if request.GET.retorno == 'asc' %}checked{% endif %}> ↑</label>
                    <label><input type="radio" name="retorno" value="dec"
                                  {% if request.GET.retorno == 'dec' %}checked{% endif %}> ↓</label>
                </div>

                <div class="grupo-ordenacao">
                    <strong>Valor</strong>
                    <label><input type="radio" name="valor" value="asc"
                                  {% if request.GET.valor == 'asc' %}checked{% endif %}> ↑</label>
                    <label><input type="radio" name="valor" value="dec"
                                  {% if request.GET.valor == 'dec' %}checked{% endif %}> ↓</label>
                </div>

                <div class="grupo-ordenacao ordenar-btn">
                    <button type="submit" class="btn-ordenar">Ordenar</button>
                </div>
            </form>

            <!-- Tabela de vendas -->
            <table class="list-table">
                <thead>
                <tr>
                    <th>Sequencia-Venda</th>
                    <th>Cliente</th>
                    <th>Data da Venda</th>
                    <th>Previsão (dias)</th>
                    <th>Data de Retorno</th>
                    <th>Vendedor</th>
                    <th>Valor Total</th>
                    <th>Ações</th>
                </tr>
                </thead>
                <tbody>
                {% for venda in vendas %}
                    <tr>
                        <td data-label="id"><a href="{% url 'posvendasapp:ficha_venda' venda.pk %}">{{ venda.sequencia_venda }}</a>
                        </td>

                        <td data-label="Cliente">{{ venda.cliente.Nome }}</td>
                        <td data-label="Data da Venda">{{ venda.Data_venda|date:"d/m/Y" }}</td>
                        <td data-label="Previsão (dias)">{{ venda.Previsao|default:"-" }}</td>
                        <td data-label="Retorno">
                            {% if venda.previsao_de_retorno != "Previsao nao definida" %}
                                {{ venda.previsao_de_retorno }}
                            {% else %}
                                -
                            {% endif %}
                        </td>
                        <td data-label="Vendedor">{{ venda.vendedor.Usuario }}</td>
                        <td data-label="Valor Total">
                            R$ {{ venda.valor_total_venda|floatformat:2|default:"0.00" }}
                        </td>
                        <td data-label="Ações">
                            <div class="action-buttons">
                                <a href="{% url 'posvendasapp:atualizar_venda' venda.pk %}" class="edit">Editar</a>
                                <form method="post"
                                      class="form-excluir"
                                      action="{% url 'posvendasapp:deletar_venda_via_tabela_ficha_cliente' venda.pk %}"
                                      onsubmit="if(confirm('Deseja realmente excluir este produto?')) { this.querySelector('button').disabled = true; return true; } else { return false; }">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-excluir">Excluir</button>
                                </form>
                            </div>
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="7">Nenhuma venda registrada.</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div class="pagination" style="font-size: 20px;">
                {% if is_paginated %}
                    {% if page_obj.has_previous %}
                        <a href="?page=1">&laquo; Primeira</a>
                        <a href="?page={{ page_obj.previous_page_number }}">Anterior</a>
                    {% endif %}

                    <span>Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>

                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}">Próxima</a>
                        <a href="?page={{ page_obj.paginator.num_pages }}">Última &raquo;</a>
                    {% endif %}
                {% endif %}
            </div>
        </div>

    </div>


    <!-- Script de controle de ordenação -->
    <script>
        document.getElementById('form-ordenacao').addEventListener('submit', function (event) {
            event.preventDefault();

            const form = event.target;
            const params = new URLSearchParams();

            const nome = form.querySelector('input[name="nome"]:checked');
            const retorno = form.querySelector('input[name="retorno"]:checked');
            const valor = form.querySelector('input[name="valor"]:checked');

            if (nome) {
                params.append('nome', nome.value);
            } else if (retorno) {
                params.append('retorno', retorno.value);
            } else if (valor) {
                params.append('valor', valor.value);
            }

            const url = window.location.pathname + '?' + params.toString();
            window.location.href = url;
        });
    </script>

    </div>